# halogen

The script is to migrate repositories with `ghe-migrator` from a GitHub Enterprise instance to another instance.

### Requirements 

Your machine must be able to establish outbound network connections to the GitHub appliance over SSH using TCP port 122.

- [`bash`](https://www.gnu.org/software/bash/)
- [`jq`](https://jqlang.github.io/jq/) 1.7

### How to use

1. Set the *halogen.conf* some information.

   e.g)

   ```
   # SOURCE SETTINGS
   SOURCE_INSTANCE=
   SOURCE_USER=
   SOURCE_TOKEN=

   # TARGET SETTINGS
   TARGET_INSTANCE=
   TARGET_USER=
   TARGET_TOKEN=
   ```

   Put the hostname for your source appliance to `SOURCE_INSTANCE`, the system admin user name on source appliance to `SOURCE_USER` and the personal access token generated by the system admin to `SOURCE_TOKEN`.

   Put the hostname for your target appliance to `TARGET_INSTANCE`, the system admin user name on target appliance to `TARGET_USER`  and the personal access token generated by the system admin to `TARGET_TOKEN`.


2. Run the command with specifying repositories you want to migrate.

   ```
   sh halogen <org>/<repo>
   ```

   If you want to migrate multiple repositories, please add the repository with `,`:

   ```
   sh halogen <org1>/<repo1>,<org2>/<repo2>
   ```
